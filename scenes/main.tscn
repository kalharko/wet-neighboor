[gd_scene load_steps=29 format=3 uid="uid://dr54xyscfrfet"]

[ext_resource type="Script" path="res://scripts/main.gd" id="1_arwgw"]
[ext_resource type="Script" path="res://scripts/background.gd" id="2_xa4w2"]
[ext_resource type="Texture2D" uid="uid://d0ma0m5vtxxa3" path="res://assets/sprites/ui/Background.png" id="3_y6vyb"]
[ext_resource type="Script" path="res://scripts/depth_area.gd" id="4_m08w1"]
[ext_resource type="PackedScene" uid="uid://ptnnbqy8dvf6" path="res://scenes/window.tscn" id="5_4syrj"]
[ext_resource type="Script" path="res://scripts/window_manager.gd" id="5_ysl1p"]
[ext_resource type="Shader" path="res://shaders/perspective.gdshader" id="6_ujjq2"]
[ext_resource type="Script" path="res://scripts/water_gun.gd" id="7_j6yyw"]
[ext_resource type="Script" path="res://scripts/neighbour_droplet_container.gd" id="8_c7f3y"]
[ext_resource type="Script" path="res://scripts/droplet_container.gd" id="8_kahnw"]
[ext_resource type="SpriteFrames" uid="uid://bd0hy1l5j3760" path="res://assets/animations/watergun/water_gun.tres" id="9_rtgbo"]
[ext_resource type="Script" path="res://scripts/water_gun_animation.gd" id="10_4wn0a"]
[ext_resource type="Material" uid="uid://jkpmgmfejwlg" path="res://shaders/water_tank_shader.tres" id="11_c0nnu"]
[ext_resource type="SpriteFrames" uid="uid://bki20f0upkjum" path="res://assets/animations/watergun/water_gun_tank.tres" id="12_ncs6r"]
[ext_resource type="Texture2D" uid="uid://jbbt8qu04crv" path="res://assets/sprites/ui/textbox.png" id="13_auuha"]
[ext_resource type="FontFile" uid="uid://cu1yl8kymx1ir" path="res://assets/fonts/Graffiti-Regular.ttf" id="14_4k66k"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pds48"]
shader = ExtResource("6_ujjq2")
shader_parameter/fov = 125.6
shader_parameter/cull_back = true
shader_parameter/y_rot = 33.204
shader_parameter/x_rot = 0.0
shader_parameter/z_rot = 0.0
shader_parameter/inset = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_atgeo"]
shader = ExtResource("6_ujjq2")
shader_parameter/fov = 90.0
shader_parameter/cull_back = true
shader_parameter/y_rot = 15.084
shader_parameter/x_rot = 8.55e-06
shader_parameter/z_rot = 0.0
shader_parameter/inset = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ob38q"]
shader = ExtResource("6_ujjq2")
shader_parameter/fov = 90.0
shader_parameter/cull_back = true
shader_parameter/y_rot = -10.485
shader_parameter/x_rot = 0.0
shader_parameter/z_rot = 0.0
shader_parameter/inset = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_w4avu"]
shader = ExtResource("6_ujjq2")
shader_parameter/fov = 52.845
shader_parameter/cull_back = true
shader_parameter/y_rot = 13.981
shader_parameter/x_rot = 0.0
shader_parameter/z_rot = 0.0
shader_parameter/inset = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_85ate"]
shader = ExtResource("6_ujjq2")
shader_parameter/fov = 90.0
shader_parameter/cull_back = true
shader_parameter/y_rot = 34.951
shader_parameter/x_rot = 0.0
shader_parameter/z_rot = 0.0
shader_parameter/inset = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lal78"]
shader = ExtResource("6_ujjq2")
shader_parameter/fov = 117.922
shader_parameter/cull_back = true
shader_parameter/y_rot = 0.0
shader_parameter/x_rot = 16.003
shader_parameter/z_rot = 22.174
shader_parameter/inset = 0.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_05irn"]
shader = ExtResource("6_ujjq2")
shader_parameter/fov = 90.0
shader_parameter/cull_back = true
shader_parameter/y_rot = -65.05
shader_parameter/x_rot = 0.0
shader_parameter/z_rot = 0.0
shader_parameter/inset = 0.0

[sub_resource type="Curve" id="Curve_y8jj5"]
_data = [Vector2(0, 0), 0.0, 1.47608, 0, 0, Vector2(1, 1), 0.0194616, 0.0, 0, 0]
point_count = 2

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_u34kr"]
radius = 70.954
height = 235.346

[sub_resource type="Curve2D" id="Curve2D_sa7ub"]
_data = {
"points": PackedVector2Array(-4.95679, -73.3526, 4.95679, 73.3526, -13.5312, 206.549, -453.594, -0.272045, 453.594, 0.272045, 475.673, 365.776, 1.83792, 86.2901, -1.83792, -86.2901, 964.877, 200.425)
}
point_count = 3

[sub_resource type="Theme" id="Theme_gqepk"]

[sub_resource type="GDScript" id="GDScript_x4bun"]

[node name="Main" type="Node2D"]
script = ExtResource("1_arwgw")

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(450, 300)
scale = Vector2(0.249167, 0.25)
script = ExtResource("2_xa4w2")

[node name="Sprite2D" type="Sprite2D" parent="Background"]
position = Vector2(2.45304, -7.9997)
scale = Vector2(1.88884, 2.21481)
texture = ExtResource("3_y6vyb")

[node name="DepthAreaContainer" type="Node2D" parent="Background"]

[node name="DepthArea" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 1.65

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea"]
polygon = PackedVector2Array(262.5, 637, 272.5, 464, 271.5, 449, 231.5, 372, 266.5, 333, 510.5, 329, 516.5, 513, 714.499, 500, 638.499, 661)

[node name="DepthArea12" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 3.145

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea12"]
polygon = PackedVector2Array(266.5, 333, 266.5, 231, 296.5, 122, 299.5, -65, 444.5, -75, 534.5, -53, 517.5, 331)

[node name="DepthArea11" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 2.705

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea11"]
polygon = PackedVector2Array(640.499, 652, 715.499, 508, 724.499, 264, 728.499, 201, 953.499, 199, 952.499, 629)

[node name="DepthArea10" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 3.985

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea10"]
polygon = PackedVector2Array(713.499, 206, 813.499, 87, 861.499, 49, 934.499, -49, 952.499, 206)

[node name="DepthArea2" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 3.325

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea2"]
polygon = PackedVector2Array(518.5, -55, 517.5, 0, 512.5, 309, 595.499, 286, 592.499, -35)

[node name="DepthArea9" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 2.65

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea9"]
polygon = PackedVector2Array(505.5, 277, 497.5, 385, 503.5, 496, 510.5, 518, 577.5, 517, 721.499, 505, 728.499, 198, 685.499, 217, 671.499, 457, 604.499, 454, 596.499, 340, 596.499, 260)

[node name="DepthArea3" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 0.78

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea3"]
polygon = PackedVector2Array(-54.4993, 407, 106.5, 365, 183.5, 361, 235.5, 371, 278.5, 447, 269.5, 568, 263.5, 650, 153.5, 646, -47.4993, 666, -68.4993, 466)

[node name="DepthArea8" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-9024.08, -6000)
scale = Vector2(16.1072, 16)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 1.725

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea8"]
position = Vector2(444.638, 300.25)
scale = Vector2(0.192092, 0.109701)
polygon = PackedVector2Array(-54.4993, 407, 106.5, 365, 278.5, 447, 286.663, 845.482, -59.6672, 934.36, -47.4993, 666, -68.4993, 466)

[node name="DepthArea6" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-9024.08, -6000)
scale = Vector2(16.1072, 16)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 2.07

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea6"]
position = Vector2(490.235, 364)
scale = Vector2(0.112477, 0.0989959)
polygon = PackedVector2Array(230.388, -111.116, 217.096, 214.655, 132.916, 333.347, 64.2428, 252.536, 70.8886, -121.217)

[node name="DepthArea4" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 4.09

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea4"]
polygon = PackedVector2Array(312.5, -37, 378.5, -10, 308.5, 128, 275.5, 214, 200.5, 212, 79.5004, 176, -68.4993, 177, -63.4993, -29)

[node name="DepthArea7" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-9024.08, -6000)
scale = Vector2(16.1072, 16)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 3.65

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea7"]
position = Vector2(444.638, 314.75)
scale = Vector2(0.258643, 0.216101)
polygon = PackedVector2Array(584.759, 196.668, 578.978, -167.746, 796.697, -180.471, 969.139, -161.962, 788.027, 55.5297, 742.749, 118.001, 700.362, 170.06, 701.325, 190.883, 673.388, 214.021)

[node name="DepthArea5" type="Area2D" parent="Background/DepthAreaContainer"]
position = Vector2(-1800, -1200)
scale = Vector2(4.01338, 4)
monitorable = false
script = ExtResource("4_m08w1")
additional_height_at_stream_apex = 2.085

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Background/DepthAreaContainer/DepthArea5"]
polygon = PackedVector2Array(588.5, 469, 588.5, 211, 685.499, 223, 678.499, 467)

[node name="WindowManager" type="Node2D" parent="Background"]
position = Vector2(-1806.02, -1200)
scale = Vector2(4.01337, 4)
script = ExtResource("5_ysl1p")

[node name="window 2" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(632.001, 288)
scale = Vector2(0.0790437, 0.086004)

[node name="window 3" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(632.001, 369.443)
scale = Vector2(0.0626876, 0.0718556)

[node name="window2" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(630.001, 156)
scale = Vector2(0.0630719, 0.0788352)

[node name="window23" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(709.001, 137)
scale = Vector2(0.0359078, 0.0754519)

[node name="window24" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(759.001, 76)
scale = Vector2(0.0461168, 0.0816667)

[node name="window3" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(705.924, 74.0075)
scale = Vector2(0.0506069, 0.0833585)

[node name="window16" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_pds48")
position = Vector2(205.001, 523)
scale = Vector2(0.157965, 0.142483)

[node name="window17" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_pds48")
position = Vector2(444.001, 475)
scale = Vector2(0.0982392, 0.101063)

[node name="window18" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_pds48")
position = Vector2(66.0006, 52)
scale = Vector2(0.0948287, 0.0952659)

[node name="window4" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_pds48")
position = Vector2(87.0006, 116)
scale = Vector2(0.102746, 0.0967368)

[node name="window5" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_atgeo")
position = Vector2(149.001, 276)
scale = Vector2(0.11874, 0.159013)

[node name="window6" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(840.001, 250)
scale = Vector2(0.106761, 0.159951)

[node name="window7" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_ob38q")
position = Vector2(298.001, 474)
scale = Vector2(0.0890746, 0.119612)

[node name="window8" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_w4avu")
position = Vector2(85.0006, 277)
scale = Vector2(0.123614, 0.176525)

[node name="window9" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(768.001, 252)
scale = Vector2(0.108196, 0.153174)

[node name="window10" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(830.001, 440)
scale = Vector2(0.158433, 0.133582)

[node name="window19" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_85ate")
position = Vector2(491.001, 119)
scale = Vector2(0.0938667, 0.11682)

[node name="window20" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_85ate")
position = Vector2(583.001, 422)
scale = Vector2(0.0407446, 0.07887)

[node name="window11" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_85ate")
position = Vector2(492.001, 271)
scale = Vector2(0.116075, 0.127936)

[node name="window12" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(340.001, 278)
scale = Vector2(0.138643, 0.116876)

[node name="window15" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_lal78")
position = Vector2(332.001, 360)
rotation = -0.179769
scale = Vector2(0.099223, 0.0784609)

[node name="window22" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(233.001, 155)
scale = Vector2(0.0742021, 0.119458)

[node name="window21" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(176.001, 155)
scale = Vector2(0.0731834, 0.115)
animation = &"window opening"
frame = 0
frame_progress = 0.0

[node name="window13" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
position = Vector2(190.001, 71)
scale = Vector2(0.0797732, 0.1)

[node name="window14" parent="Background/WindowManager" instance=ExtResource("5_4syrj")]
material = SubResource("ShaderMaterial_05irn")
position = Vector2(816.001, 141)
scale = Vector2(0.0475, 0.0608334)

[node name="NeighbourDropletContainer" type="Node" parent="Background"]
script = ExtResource("8_c7f3y")

[node name="WaterGun" type="Node2D" parent="."]
script = ExtResource("7_j6yyw")

[node name="DropletContainer" type="Node" parent="WaterGun"]
script = ExtResource("8_kahnw")

[node name="WaterGunAnimation" type="AnimatedSprite2D" parent="WaterGun"]
position = Vector2(779, 589)
scale = Vector2(0.506038, 0.500201)
sprite_frames = ExtResource("9_rtgbo")
animation = &"gun_gather"
script = ExtResource("10_4wn0a")
water_tank_tops = Array[float]([0.36, 0.36, 0.36, 0.36, 0.36, 0.36, 0.36, 0.36, 0.06])
water_tank_bottoms = Array[float]([0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.56])
position_animation_frame_curve = SubResource("Curve_y8jj5")

[node name="MarkerFront" type="Marker2D" parent="WaterGun/WaterGunAnimation"]
position = Vector2(46.7572, -208.145)

[node name="MarkerBack" type="Marker2D" parent="WaterGun/WaterGunAnimation"]
position = Vector2(49.4034, 139.944)
scale = Vector2(1.04313, 0.478536)

[node name="Area2D" type="Area2D" parent="WaterGun/WaterGunAnimation"]
collision_layer = 2
collision_mask = 2
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="WaterGun/WaterGunAnimation/Area2D"]
position = Vector2(43.7406, -87.4812)
rotation = -0.0404088
shape = SubResource("CapsuleShape2D_u34kr")

[node name="WaterTankAnimation" type="AnimatedSprite2D" parent="WaterGun/WaterGunAnimation"]
material = ExtResource("11_c0nnu")
sprite_frames = ExtResource("12_ncs6r")
animation = &"gun_gather"

[node name="ShootingPath" type="Path2D" parent="WaterGun"]
position = Vector2(16, -16)
scale = Vector2(0.909404, 1.7002)
curve = SubResource("Curve2D_sa7ub")

[node name="PathFollow2D" type="PathFollow2D" parent="WaterGun/ShootingPath"]
position = Vector2(580.931, 364.218)
rotation = -0.0323989
progress = 663.631

[node name="PathCenter" type="Marker2D" parent="WaterGun/ShootingPath"]
position = Vector2(449.745, 270.556)

[node name="DebugLabelScore" type="Label" parent="."]
offset_left = 13.0
offset_top = 547.0
offset_right = 74.0
offset_bottom = 570.0
scale = Vector2(2.12, 2.12)
text = "Score: 0"

[node name="DebugLabelTank" type="Label" parent="."]
offset_left = 12.0
offset_top = 513.0
offset_right = 86.0
offset_bottom = 536.0
scale = Vector2(2.12, 2.12)
text = "Tank: 100"

[node name="SpeechBubble" type="Sprite2D" parent="."]
position = Vector2(524.678, 216.786)
scale = Vector2(0.489286, 0.489286)
texture = ExtResource("13_auuha")

[node name="Label" type="Label" parent="SpeechBubble"]
anchors_preset = -1
anchor_left = 0.000370475
anchor_top = -0.031111
anchor_right = 0.000370475
anchor_bottom = -0.031111
offset_left = -65.0778
offset_top = -28.5085
offset_right = 132.922
offset_bottom = 25.4915
theme = SubResource("Theme_gqepk")
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("14_4k66k")
theme_override_font_sizes/font_size = 18
text = "GAMIN ! VIENS VOIR."
script = SubResource("GDScript_x4bun")
metadata/_edit_use_anchors_ = true
